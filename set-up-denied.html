<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="icon" type="image/png" href="images/fav-icon.png">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Application Review Required</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #dc2626 0%, #ef4444 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .rejection-container {
            background: white;
            border-radius: 20px;
            padding: 60px 40px;
            max-width: 700px;
            width: 100%;
            text-align: center;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            animation: slideUp 0.6s ease-out;
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .audience-badge {
            background: #7c0a0a;
            color: white;
            padding: 8px 20px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 600;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 20px;
        }

        .icon-container {
            width: 120px;
            height: 120px;
            background: #fee2e2;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 30px;
            font-size: 60px;
        }

        h1 {
            font-size: 32px;
            color: #1a1a1a;
            margin-bottom: 16px;
            font-weight: 700;
        }

        .subtitle {
            font-size: 18px;
            color: #dc2626;
            font-weight: 600;
            margin-bottom: 24px;
        }

        .message {
            font-size: 16px;
            color: #6b7280;
            line-height: 1.8;
            margin-bottom: 30px;
        }

        .issues-box {
            background: #fef2f2;
            border: 2px solid #fecaca;
            border-radius: 12px;
            padding: 24px;
            margin-bottom: 30px;
            text-align: left;
        }

        .issues-title {
            font-size: 16px;
            font-weight: 700;
            color: #dc2626;
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .issue-list {
            list-style: none;
            padding: 0;
        }

        .issue-item {
            padding: 10px 0;
            border-bottom: 1px solid #fecaca;
            display: flex;
            align-items: flex-start;
            gap: 12px;
        }

        .issue-item:last-child {
            border-bottom: none;
        }

        .issue-icon {
            color: #dc2626;
            font-size: 18px;
            margin-top: 2px;
        }

        .issue-text {
            flex: 1;
            font-size: 14px;
            color: #4b5563;
            line-height: 1.6;
        }

        .help-section {
            background: #f9fafb;
            border-radius: 12px;
            padding: 24px;
            margin-bottom: 30px;
            text-align: left;
        }

        .help-title {
            font-size: 16px;
            font-weight: 700;
            color: #1a1a1a;
            margin-bottom: 16px;
        }

        .help-item {
            display: flex;
            align-items: flex-start;
            margin-bottom: 14px;
            padding: 12px;
            background: white;
            border-radius: 8px;
        }

        .help-item:last-child {
            margin-bottom: 0;
        }

        .help-icon {
            margin-right: 12px;
            font-size: 20px;
            margin-top: 2px;
        }

        .help-content {
            flex: 1;
        }

        .help-text-title {
            font-size: 14px;
            font-weight: 600;
            color: #1a1a1a;
            margin-bottom: 4px;
        }

        .help-text {
            font-size: 13px;
            color: #6b7280;
            line-height: 1.5;
        }

        .button-group {
            display: flex;
            gap: 16px;
        }

        .btn {
            flex: 1;
            padding: 16px 28px;
            border-radius: 10px;
            font-size: 15px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            border: none;
        }

        .btn-reapply {
            background: #7c0a0a;
            color: white;
        }

        .btn-reapply:hover {
            background: #a91d1d;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(124, 10, 10, 0.3);
        }

        .btn-contact {
            background: white;
            color: #7c0a0a;
            border: 2px solid #7c0a0a;
        }

        .btn-contact:hover {
            background: #fef2f2;
        }

        .info-note {
            background: #eff6ff;
            border-left: 4px solid #3b82f6;
            padding: 16px;
            border-radius: 8px;
            margin-bottom: 30px;
            text-align: left;
        }

        .info-note-title {
            font-size: 14px;
            font-weight: 600;
            color: #1e40af;
            margin-bottom: 6px;
        }

        .info-note-text {
            font-size: 13px;
            color: #4b5563;
            line-height: 1.6;
        }

        @media (max-width: 640px) {
            .rejection-container {
                padding: 40px 24px;
            }

            h1 {
                font-size: 26px;
            }

            .subtitle {
                font-size: 16px;
            }

            .message {
                font-size: 15px;
            }

            .icon-container {
                width: 100px;
                height: 100px;
                font-size: 50px;
            }

            .button-group {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="rejection-container">
        <div class="audience-badge" id="audienceDisplay">
            <!-- Teaching audience will be displayed here -->
        </div>

        <div class="icon-container"><svg xmlns="http://www.w3.org/2000/svg" width="60" height="60" style="color: red;" fill="currentColor" class="bi bi-x-square-fill" viewBox="0 0 16 16">
  <path d="M2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2zm3.354 4.646L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 1 1 .708-.708"/>
</svg></div>
        
        <h1>Application Requires Review</h1>
        <p class="subtitle">Additional Information Needed</p>
        
        <p class="message">
            Thank you for your interest in becoming an instructor at Stepway Technologies. 
            After careful review, we've identified some areas that need attention before we can approve your application.
        </p>

        <div class="issues-box">
            <div class="issues-title">
                <span>‚ö†Ô∏è</span>
                <span>Issues Found:</span>
            </div>
            <ul class="issue-list" id="issuesList">
                <!-- Issues will be populated by JavaScript -->
            </ul>
        </div>

        <div class="info-note">
            <div class="info-note-title">üí° Good News!</div>
            <div class="info-note-text">
                You can fix these issues and resubmit your application immediately. All your entered information has been saved and will be pre-filled when you return.
            </div>
        </div>

        <div class="help-section">
            <div class="help-title">How to Fix These Issues:</div>
            
            <div class="help-item">
                <div class="help-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-pencil" viewBox="0 0 16 16">
  <path d="M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325"/>
</svg></div>
                <div class="help-content">
                    <div class="help-text-title">Review Your Information</div>
                    <div class="help-text">Double-check all fields for accuracy, completeness, and professionalism.</div>
                </div>
            </div>

            <div class="help-item">
                <div class="help-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-paperclip" viewBox="0 0 16 16">
  <path d="M4.5 3a2.5 2.5 0 0 1 5 0v9a1.5 1.5 0 0 1-3 0V5a.5.5 0 0 1 1 0v7a.5.5 0 0 0 1 0V3a1.5 1.5 0 1 0-3 0v9a2.5 2.5 0 0 0 5 0V5a.5.5 0 0 1 1 0v7a3.5 3.5 0 1 1-7 0z"/>
</svg></div>
                <div class="help-content">
                    <div class="help-text-title">Verify LinkedIn Profile</div>
                    <div class="help-text">Ensure your LinkedIn URL follows the format: https://www.linkedin.com/in/yourname</div>
                </div>
            </div>

            <div class="help-item">
                <div class="help-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-pencil-square" viewBox="0 0 16 16">
  <path d="M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"/>
  <path fill-rule="evenodd" d="M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5z"/>
</svg></div>
                <div class="help-content">
                    <div class="help-text-title">Expand Your Biography</div>
                    <div class="help-text">Write a detailed professional biography (min. 200 characters) highlighting your expertise and teaching experience.</div>
                </div>
            </div>

            <div class="help-item">
                <div class="help-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-clipboard2-check" viewBox="0 0 16 16">
  <path d="M9.5 0a.5.5 0 0 1 .5.5.5.5 0 0 0 .5.5.5.5 0 0 1 .5.5V2a.5.5 0 0 1-.5.5h-5A.5.5 0 0 1 5 2v-.5a.5.5 0 0 1 .5-.5.5.5 0 0 0 .5-.5.5.5 0 0 1 .5-.5z"/>
  <path d="M3 2.5a.5.5 0 0 1 .5-.5H4a.5.5 0 0 0 0-1h-.5A1.5 1.5 0 0 0 2 2.5v12A1.5 1.5 0 0 0 3.5 16h9a1.5 1.5 0 0 0 1.5-1.5v-12A1.5 1.5 0 0 0 12.5 1H12a.5.5 0 0 0 0 1h.5a.5.5 0 0 1 .5.5v12a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5z"/>
  <path d="M10.854 7.854a.5.5 0 0 0-.708-.708L7.5 9.793 6.354 8.646a.5.5 0 1 0-.708.708l1.5 1.5a.5.5 0 0 0 .708 0z"/>
</svg></div>
                <div class="help-content">
                    <div class="help-text-title">Upload Required Documents</div>
                    <div class="help-text">Ensure you've uploaded a clear profile photo and your current resume/CV.</div>
                </div>
            </div>

            <div class="help-item">
                <div class="help-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-people" viewBox="0 0 16 16">
  <path d="M15 14s1 0 1-1-1-4-5-4-5 3-5 4 1 1 1 1zm-7.978-1L7 12.996c.001-.264.167-1.03.76-1.72C8.312 10.629 9.282 10 11 10c1.717 0 2.687.63 3.24 1.276.593.69.758 1.457.76 1.72l-.008.002-.014.002zM11 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4m3-2a3 3 0 1 1-6 0 3 3 0 0 1 6 0M6.936 9.28a6 6 0 0 0-1.23-.247A7 7 0 0 0 5 9c-4 0-5 3-5 4q0 1 1 1h4.216A2.24 2.24 0 0 1 5 13c0-1.01.377-2.042 1.09-2.904.243-.294.526-.569.846-.816M4.92 10A5.5 5.5 0 0 0 4 13H1c0-.26.164-1.03.76-1.724.545-.636 1.492-1.256 3.16-1.275ZM1.5 5.5a3 3 0 1 1 6 0 3 3 0 0 1-6 0m3-2a2 2 0 1 0 0 4 2 2 0 0 0 0-4"/>
</svg></div>
                <div class="help-content">
                    <div class="help-text-title">Complete Guarantor Information</div>
                    <div class="help-text">Provide complete and accurate information for at least 2 professional guarantors.</div>
                </div>
            </div>

            <div class="help-item">
                <div class="help-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-chat-dots" viewBox="0 0 16 16">
  <path d="M5 8a1 1 0 1 1-2 0 1 1 0 0 1 2 0m4 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0m3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2"/>
  <path d="m2.165 15.803.02-.004c1.83-.363 2.948-.842 3.468-1.105A9 9 0 0 0 8 15c4.418 0 8-3.134 8-7s-3.582-7-8-7-8 3.134-8 7c0 1.76.743 3.37 1.97 4.6a10.4 10.4 0 0 1-.524 2.318l-.003.011a11 11 0 0 1-.244.637c-.079.186.074.394.273.362a22 22 0 0 0 .693-.125m.8-3.108a1 1 0 0 0-.287-.801C1.618 10.83 1 9.468 1 8c0-3.192 3.004-6 7-6s7 2.808 7 6-3.004 6-7 6a8 8 0 0 1-2.088-.272 1 1 0 0 0-.711.074c-.387.196-1.24.57-2.634.893a11 11 0 0 0 .398-2"/>
</svg></div>
                <div class="help-content">
                    <div class="help-text-title">Need Help?</div>
                    <div class="help-text">If you believe this was an error or need clarification, contact our support team.</div>
                </div>
            </div>
        </div>

        <div class="button-group">
            <button class="btn btn-reapply" onclick="reapply()">
                ‚Üê Fix Issues & Resubmit
            </button>
            <button class="btn btn-contact" onclick="contactSupport()">
                Contact Support
            </button>
        </div>
    </div>

    <script>
        // Display teaching audience
        function displayTeachingAudience() {
            const step1Data = JSON.parse(sessionStorage.getItem('step1Data') || '{}');
            const audienceDisplay = document.getElementById('audienceDisplay');
            
            if (step1Data.teachingAudience === 'kids') {
                audienceDisplay.innerHTML = 'üßí Teaching: Kids Coding';
            } else if (step1Data.teachingAudience === 'adults') {
                audienceDisplay.innerHTML = 'üë®‚Äçüíº Teaching: Adults';
            } else {
                audienceDisplay.innerHTML = 'üéØ Teaching Audience';
            }
        }

        // Load and display rejection reasons
        const verificationResult = JSON.parse(sessionStorage.getItem('verificationResult') || '{}');
        const issuesList = document.getElementById('issuesList');
        
        if (verificationResult.failedChecks && verificationResult.failedChecks.length > 0) {
            verificationResult.failedChecks.forEach(issue => {
                const li = document.createElement('li');
                li.className = 'issue-item';
                li.innerHTML = `
                    <span class="issue-icon">‚úó</span>
                    <span class="issue-text">${issue}</span>
                `;
                issuesList.appendChild(li);
            });
        } else if (verificationResult.reason) {
            const li = document.createElement('li');
            li.className = 'issue-item';
            li.innerHTML = `
                <span class="issue-icon">‚úó</span>
                <span class="issue-text">${verificationResult.reason}</span>
            `;
            issuesList.appendChild(li);
        } else {
            const li = document.createElement('li');
            li.className = 'issue-item';
            li.innerHTML = `
                <span class="issue-icon">‚úó</span>
                <span class="issue-text">Your application did not meet our minimum requirements for instructor qualifications.</span>
            `;
            issuesList.appendChild(li);
        }

        function reapply() {
            // Clear verification result but keep form data
            sessionStorage.removeItem('verificationResult');
            
            // Redirect to step 1 (data will be pre-filled)
            window.location.href = 'set-up-step1.html';
        }

        function contactSupport() {
            const step1Data = JSON.parse(sessionStorage.getItem('step1Data') || '{}');
            const subject = encodeURIComponent('Application Review Request - Support Needed');
            const body = encodeURIComponent(
                'Dear Stepway Technologies Support Team,\n\n' +
                'I am writing regarding my instructor application that requires review.\n\n' +
                'Application Details:\n' +
                '- Teaching Focus: ' + (step1Data.teachingAudience === 'kids' ? 'Kids Coding' : 'Adults') + '\n' +
                '- Application Date: ' + (verificationResult.timestamp ? new Date(verificationResult.timestamp).toLocaleString() : 'N/A') + '\n\n' +
                'I would appreciate clarification on the following issues:\n' +
                (verificationResult.failedChecks ? verificationResult.failedChecks.join('\n') : 'Please review my application') +
                '\n\nThank you for your assistance.\n\nBest regards'
            );
            
            window.location.href = `mailto:admin@stepwaytechnologies.com?subject=${subject}&body=${body}`;
        }

        // Display teaching audience on load
        window.addEventListener('DOMContentLoaded', displayTeachingAudience);
    </script>
</body>
</html>
